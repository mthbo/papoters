<div class="my-navbar my-navbar-fixed">

  <div id="my-navbar-locale" data-locale="<%= I18n.locale %>"></div>

  <% if user_signed_in? %>
    <div id="my-navbar-logged" data-user-id="<%= current_user.id %>"></div>
  <% end %>

  <div class="my-navbar-left">
    <%= link_to root_path, { class: "my-navbar-brand" } do %>
      <%= image_tag "papoters_logo.svg" %>
    <% end %>
  </div>

  <div class="my-navbar-middle">
    <button class="btn my-navbar-button-round btn-yellow" id="my-navbar-btn-search-trigger">
      <i class='fa fa-search'></i>
    </button>
  </div>

  <div class="my-navbar-right hidden-xs">
    <%= link_to t('navbar.be_advisor'), be_advisor_path, { class: "my-navbar-button btn btn-green" } %>

    <% if user_signed_in? %>
      <%= link_to dashboard_path, { class: "btn my-navbar-button-round btn-blue" } do %>
          <i class="fa fa-hashtag"></i>
          <div class="my-navbar-badge">
            <%= render 'users/notifications' %>
          </div>
      <% end %>

      <div class="my-navbar-item">
        <div class="dropdown">
          <div class="dropdown-toggle" id="my-navbar-menu", data-toggle="dropdown">
            <%= render 'users/avatar', user: current_user, size: 'avatar-small' %>
          </div>
          <ul class="dropdown-menu dropdown-menu-right my-navbar-dropdown-menu laptop-dropdown-menu">
            <li><%= link_to t('navbar.profile'), user_path(current_user) %></li>
            <li><%= link_to t('navbar.dashboard'), dashboard_path %></li>
            <li><%= link_to t('navbar.logout'), destroy_user_session_path, method: :delete %></li>
          </ul>
        </div>
      </div>

    <% else %>
      <%= link_to t('navbar.join'), new_user_registration_path, { class: "my-navbar-item my-navbar-link" } %>
      <%= link_to t('navbar.sign_in'), new_user_session_path, { class: "my-navbar-item my-navbar-link" } %>

    <% end %>

  </div>

  <!-- Dropdown appearing on mobile only -->
  <div class="hidden-sm hidden-md hidden-lg">
    <div class="dropdown" id="mobile-dropdown">
      <i class="fa fa-lg fa-bars dropdown-toggle mobile-dropdown-toggle" data-toggle="dropdown"></i>
      <% if user_signed_in? %>
        <div class="my-navbar-mobile-dropdown-badge">
          <%= render 'users/notifications' %>
        </div>
      <% end %>
      <ul class="dropdown-menu my-navbar-dropdown-menu mobile-dropdown-menu">
        <li><%= link_to t('navbar.be_advisor'), be_advisor_path %></li>

        <% if user_signed_in? %>
          <li><%= link_to t('navbar.profile'), user_path(current_user) %></li>
          <li>
            <%= link_to t('navbar.dashboard'), dashboard_path %>
            <div class="my-navbar-mobile-menu-badge">
              <%= render 'users/notifications' %>
            </div>
          </li>
          <li><%= link_to t('navbar.logout'), destroy_user_session_path, method: :delete %></li>

        <% else %>
          <li><%= link_to t('navbar.join'), new_user_registration_path %></li>
          <li><%= link_to t('navbar.sign_in'), new_user_session_path %></li>
        <% end %>
      </ul>
    </div>
  </div>
</div>
