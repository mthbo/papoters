<% unless @offer.errors.any? %>
  var $trigger_box = $('[data-offer-status-id=<%= @offer.id %>]');
  var $trigger_button = $('[data-offer-status-id=<%= @offer.id %>] .offer-trigger-btn');
  var $status_info_box = $('[data-offer-info-id=<%= @offer.id %>]');

  if ($trigger_button.hasClass('activate-offer-btn')) {
    $trigger_button.animate({left:"+=20px"}, 'fast', 'swing', function() {
      $trigger_box.empty();
      var $trigger = $("<%= j render 'offers/status_trigger', offer: @offer %>").hide();
      $trigger_box.append($trigger);
      $trigger.show();
    });
  } else if ($trigger_button.hasClass('inactivate-offer-btn')) {
    $trigger_button.animate({right:"+=20px"}, 'fast', 'swing', function() {
      $trigger_box.empty();
      var $trigger = $("<%= j render 'offers/status_trigger', offer: @offer %>").hide();
      $trigger_box.append($trigger);
      $trigger.show();
    });
  }

  var $status_info = $("<%= j render 'offers/status_info', offer: @offer %>").hide();
  $status_info_box.empty();
  $status_info_box.append($status_info);
  $status_info.fadeIn();
<% end %>
